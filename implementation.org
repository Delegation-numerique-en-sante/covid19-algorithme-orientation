#+title: Implémentation de l'algorithme d'orientation COVID 19

Si vous souhaitez faire [[file:referencement.org][référencer]] votre implémentation de
l'algorithme d'orientation, il est impératif de suivre le [[https://github.com/Delegation-numerique-en-sante/covid19-algorithme-orientation/blob/master/docs/json/openapi3.json][schéma de
données officiel]].

Nous résumons ci-dessous la liste des variables à collecter, ainsi que
d'autres éléments sur l'implémentation.

* Stockage des données du formulaire

- Les données ne doivent être stockées sur un serveur que lorsque le
  répondant a répondu à /toutes/ les questions.

* Liste des variables du formulaire à collecter

| Nom de la variable        | Description                              | Type          | Exemple                       |
|---------------------------+------------------------------------------+---------------+-------------------------------|
| =form_version=              | Version du formulaire                    | string        | "2020-03-30"                  |
| =algo_version=              | Version de l'algorithme                  | string        | "2020-03-30"                  |
| =date=                      | Date de saisie par le répondant          | date ISO 8601 | 2020-04-02T05:24:57.711-00:00 |
| =duration=                  | Durée de saisie en secondes              | integer       | 316                           |
| =age_less_15=               | Le répondant a moins de 15 ans           | boolean       | false                         |
| =age_less_50=               | Le répondant a moins de 50 ans           | boolean       | false                         |
| =age_less_70=               | Le répondant a moins de 70 ans           | boolean       | true                          |
| =age_more_70=               | Le répondant a plus de 70 ans            | boolean       | false                         |
| =height=                    | La taille du répondant en centimètre     | integer       | 172                           |
| =weight=                    | Le poids du répondant en kilogrammes     | integer       | 69                            |
| =postal_code=               | Le code postal                           | string        | "75019" ou "63XXX"            |
| =sore_throat_aches=         | Mal de gorge ou douleurs musculaires?    | boolean       | true                          |
| =fever=                     | Fièvre ?                                 | boolean       | false                         |
| =temperature_cat=           | Catégorie de température                 | string        | "35.5-35.7"                   |
| =pregnant=                  | Enceinte                                 | string        | "O", "1" ou "N/A"             |
| =agueusia_anosmia=          | Perte de goût et d'odorat                | boolean       | true                          |
| =breathlessness=            | Essoufflement                            | boolean       | false                         |
| =cough=                     | Toux                                     | boolean       | false                         |
| =diarrhea=                  | Diarrhée                                 | boolean       | false                         |
| =tiredness=                 | Fatigue                                  | boolean       | false                         |
| =tiredness_details=         | Alitement >=50% du temps diurne          | boolean       | false                         |
| =feeding_day=               | Difficulté pour manger/boire             | boolean       | false                         |
| =breathing_disease=         | Maladie respiratoire                     | boolean       | false                         |
| =heart_disease=             | Maladie cardiaque                        | boolean       | false                         |
| =kidney_disease=            | Insuffisance rénale chronique dialysée   | boolean       | false                         |
| =liver_disease=             | Maladie chronique du foie                | boolean       | false                         |
| =diabetes=                  | Diabète                                  | boolean       | false                         |
| =immunosuppressant_disease= | Maladie diminuant défenses immunitaires  | boolean       | false                         |
| =immunosuppressant_drug=    | Traitement immunodépresseur              | boolean       | false                         |
| =cancer=                    | Cancer en cours ou il y a moins de 3 ans | boolean       | false                         |

* Liste des variables correspondant à la conclusion affichée

Toutes ces variables sont des booléens =true= quand la conclusion est
atteinte :

- =orientation_domicile_surveillance_1= :: (FIN2) Votre situation peut relever d’un COVID 19 qu’il faut surveiller. Si de nouveaux symptômes apparaissent, refaites le test ou consultez votre médecin. Nous vous conseillons de rester à votre domicile.
- =orientation_consultation_surveillance_1= :: (FIN3)  Votre situation peut relever d’un COVID 19. Demandez une téléconsultation ou un médecin généraliste ou une visite à domicile. Appelez le 15 si une gêne respiratoire ou des difficultés importantes pour vous alimenter ou boire apparaissent pendant plus de 24 heures.
- =orientation_consultation_surveillance_2= :: (FIN4) Votre situation peut relever d’un COVID 19. Demandez une téléconsultation ou un médecin généraliste ou une visite à domicile. Si vous n'arrivez pas à obtenir de consultation, appelez le 15.
- =orientation_SAMU= :: (FIN5) Appelez le 15.
- =orientation_consultation_surveillance_3= :: (FIN6) Votre situation peut relever d’un COVID 19. Demandez une téléconsultation ou un médecin généraliste ou une visite à domicile (SOS médecins, etc.)
- =orientation_consultation_surveillance_4= :: (FIN7) Votre situation peut relever d’un COVID 19. Un avis médical est recommandé. Au moindre doute, appelez le 15. Nous vous conseillons de rester à votre domicile.
- =orientation_surveillance= :: (FIN8)  Votre situation ne relève probablement pas du COVID 19. N’hésitez pas à contacter votre médecin en cas de doute. Vous pouvez refaire le test en cas de nouveau symptôme pour réévaluer la situation. Pour toute information concernant le COVID 19, composer le 0 800 130 000.

Si le répondant a moins de quinze ans, les données du formulaire ne
sont pas stockées, il n'y a donc pas de variable associée à cette fin.


<!DOCTYPE html>
<html lang="fr"><head><title>Présentation interactive de l'algorithme d'orientation Covid-19</title><meta charset="utf-8"><meta content="Algorithme Covid-19 DGOS DINUM" name="keywords"><meta content="Présentation interactive de l&apos;algorithme d&apos;orientation Covid-19" name="description"><meta content="width=device-width, initial-scale=1, shrink-to-fit=yes" name="viewport"><link href="https://delegation-numerique-en-sante.github.io/covid19-algorithme-orientation/" rel="canonical"><meta content="fr_FR" property="og:locale"><meta content="meta" property="og:type"><meta content="Présentation interactive de l&apos;algorithme d&apos;orientation Covid-19" property="og:title"><meta content="https://delegation-numerique-en-sante.github.io/covid19-algorithme-orientation/" property="og:url"><meta content="Présentation interactive de l&apos;algorithme d&apos;orientation Covid-19" property="og:site_name"><meta property="og:image"><meta content="summary_large_image" name="twitter:card"><meta content="Présentation interactive de l&apos;algorithme d&apos;orientation Covid-19" name="twitter:title"><meta content="" name="twitter:site"><meta content="" name="twitter:creator"><link href="https://storage.googleapis.com/app.klipse.tech/css/codemirror.css" rel="stylesheet" type="text/css"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" rel="stylesheet" type="text/css"><link href="css/choices.css" rel="stylesheet" type="text/css"><link href="css/custom.css" rel="stylesheet" type="text/css"><script async type="text/javascript">var _paq = window._paq || [];_paq.push(['trackPageView']);_paq.push(['enableLinkTracking']);(function(){var u="//stats.data.gouv.fr/";_paq.push(['setTrackerUrl', u+'piwik.php']);_paq.push(['setSiteId', '122']);var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);})();</script><noscript><p><img alt="" src="//stats.data.gouv.fr/piwik.php?idsite=122&amp;rec=1" style="border:0;"></p></noscript></head><body><svg aria-hidden="true" focusable="false" style="display:none"><defs><symbol clip-rule="evenodd" fill-rule="evenodd" id="copy" stroke-linejoin="round" stroke-miterlimit="1.414" viewbox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M19.75 8.5V1H6.625L1 6.625V23.5h11.25V31H31V8.5H19.75zM6.625 3.651v2.974H3.651l2.974-2.974zm-3.75 17.974V8.5H8.5V2.875h9.375V8.5l-5.625 5.625v7.5H2.875zm15-10.474v2.974h-2.974l2.974-2.974zm11.25 17.974h-15V16h5.625v-5.625h9.375v18.75z" fill-rule="nonzero"></path></symbol><symbol clip-rule="evenodd" fill-rule="evenodd" id="envelope" stroke-linejoin="round" stroke-miterlimit="1.414" viewbox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero"><path d="M30.1 5.419c-9.355-.002-18.733-.005-28.1-.005A1.06 1.06 0 0 0 .975 6.439v19.122A1.06 1.06 0 0 0 2 26.586h28a1.061 1.061 0 0 0 1.025-1.025V6.439a1.056 1.056 0 0 0-.925-1.02zM3.025 7.464h25.95v17.072H3.025V7.464z"></path><path d="M30.06 9.513c.933.098 1.382 1.395.393 1.945L16.54 18.287c-.438.188-.479.178-.893 0L1.733 11.458c-1.743-.968-.065-2.254.894-1.842l13.466 6.61 13.562-6.651c.3-.094.312-.062.405-.062z"></path></g></symbol><symbol clip-rule="evenodd" fill-rule="evenodd" id="facebook" stroke-linejoin="round" stroke-miterlimit="1.414" viewbox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M28.188 1H3.812A2.821 2.821 0 0 0 1 3.813v24.375A2.821 2.821 0 0 0 3.813 31H16V17.875h-3.75v-3.75H16V12.25a5.635 5.635 0 0 1 5.625-5.625h3.75v3.75h-3.75a1.88 1.88 0 0 0-1.875 1.875v1.875h5.625l-.937 3.75H19.75V31h8.438A2.821 2.821 0 0 0 31 28.187V3.812A2.821 2.821 0 0 0 28.188 1z"></path></symbol><symbol clip-rule="evenodd" fill-rule="evenodd" id="github" stroke-linejoin="round" stroke-miterlimit="1.414" viewbox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 1.371c-8.284 0-15 6.715-15 15 0 6.627 4.298 12.25 10.258 14.233.75.138 1.026-.326 1.026-.722 0-.357-.014-1.54-.021-2.793-4.174.907-5.054-1.77-5.054-1.77-.682-1.733-1.665-2.195-1.665-2.195-1.361-.931.103-.912.103-.912 1.506.106 2.299 1.546 2.299 1.546 1.338 2.293 3.509 1.63 4.365 1.247.134-.969.523-1.631.952-2.006-3.331-.379-6.834-1.666-6.834-7.413 0-1.638.586-2.976 1.546-4.027-.156-.378-.669-1.903.145-3.969 0 0 1.26-.403 4.126 1.537a14.453 14.453 0 0 1 3.755-.505c1.274.006 2.558.173 3.757.505 2.864-1.94 4.121-1.537 4.121-1.537.816 2.066.303 3.591.147 3.969.962 1.05 1.544 2.389 1.544 4.027 0 5.761-3.509 7.029-6.849 7.401.538.466 1.017 1.379 1.017 2.778 0 2.007-.018 3.623-.018 4.117 0 .399.27.867 1.03.72C26.707 28.616 31 22.996 31 16.371c0-8.285-6.716-15-15-15z" fill-rule="nonzero"></path></symbol><symbol clip-rule="evenodd" fill-rule="evenodd" id="googleplus" stroke-linejoin="round" stroke-miterlimit="1.414" viewbox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M28.188 1H3.812A2.821 2.821 0 0 0 1 3.813v24.375A2.821 2.821 0 0 0 3.813 31h24.375A2.821 2.821 0 0 0 31 28.187V3.812A2.821 2.821 0 0 0 28.187 1zM12.251 23.5a7.493 7.493 0 0 1-7.5-7.5c0-4.148 3.352-7.5 7.5-7.5 2.027 0 3.721.738 5.028 1.963l-2.039 1.958c-.557-.534-1.529-1.154-2.989-1.154-2.56 0-4.653 2.121-4.653 4.734s2.092 4.734 4.653 4.734c2.971 0 4.084-2.133 4.254-3.234h-4.253v-2.573h7.084c.064.375.117.75.117 1.243 0 4.289-2.872 7.33-7.201 7.33l-.001-.001zm15-7.5h-1.875v1.875h-1.875V16h-1.875v-1.875h1.875V12.25h1.875v1.875h1.875V16z" fill-rule="nonzero"></path></symbol><symbol clip-rule="evenodd" fill-rule="evenodd" id="magnifier" stroke-linejoin="round" stroke-miterlimit="1.414" viewbox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M30.07 26.529l-7.106-6.043c-.735-.662-1.521-.964-2.155-.936a11.194 11.194 0 0 0 2.691-7.299c0-6.214-5.036-11.25-11.25-11.25S1 6.037 1 12.251s5.036 11.25 11.25 11.25c2.786 0 5.334-1.012 7.299-2.691-.03.634.274 1.42.936 2.155l6.043 7.106c1.035 1.149 2.725 1.247 3.756.216 1.031-1.032.934-2.723-.216-3.756l.002-.002zm-17.82-6.78a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z" fill-rule="nonzero"></path></symbol><symbol clip-rule="evenodd" fill-rule="evenodd" id="round-cross" stroke-linejoin="round" stroke-miterlimit="1.414" viewbox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 .5C24.554.5 31.5 7.446 31.5 16S24.554 31.5 16 31.5.5 24.554.5 16 7.446.5 16 .5zm6.161 11.718a7.233 7.233 0 0 0-2.379-2.379L16 13.621l-3.782-3.782a7.233 7.233 0 0 0-2.379 2.379L13.621 16l-3.782 3.782a7.233 7.233 0 0 0 2.379 2.379L16 18.379l3.782 3.782a7.233 7.233 0 0 0 2.379-2.379L18.379 16l3.782-3.782z" fill-rule="nonzero"></path></symbol><symbol clip-rule="evenodd" fill-rule="evenodd" id="rss" stroke-linejoin="round" stroke-miterlimit="1.414" viewbox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M28.188 1H3.812A2.821 2.821 0 0 0 1 3.813v24.375A2.821 2.821 0 0 0 3.813 31h24.375A2.821 2.821 0 0 0 31 28.187V3.812A2.821 2.821 0 0 0 28.187 1zM9.175 25.352a2.541 2.541 0 0 1-2.549-2.537 2.553 2.553 0 0 1 2.549-2.543 2.55 2.55 0 0 1 2.549 2.543 2.541 2.541 0 0 1-2.549 2.537zm6.399.023a8.913 8.913 0 0 0-2.62-6.339 8.882 8.882 0 0 0-6.328-2.625v-3.668c6.961 0 12.633 5.666 12.633 12.633h-3.685v-.001zm6.51 0c0-8.526-6.932-15.469-15.451-15.469V6.239c10.546 0 19.13 8.589 19.13 19.137h-3.68v-.001z" fill-rule="nonzero"></path></symbol><symbol clip-rule="evenodd" fill-rule="evenodd" id="twitter" stroke-linejoin="round" stroke-miterlimit="1.414" viewbox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M31.003 6.695c-1.102.492-2.291.82-3.533.966a6.185 6.185 0 0 0 2.706-3.404 12.404 12.404 0 0 1-3.908 1.495 6.154 6.154 0 0 0-4.495-1.94 6.153 6.153 0 0 0-5.994 7.553A17.468 17.468 0 0 1 3.093 4.932a6.15 6.15 0 0 0-.831 3.094 6.147 6.147 0 0 0 2.736 5.122 6.16 6.16 0 0 1-2.789-.768v.076a6.154 6.154 0 0 0 4.94 6.034 6.149 6.149 0 0 1-2.783.106 6.177 6.177 0 0 0 5.748 4.277 12.347 12.347 0 0 1-9.117 2.549 17.4 17.4 0 0 0 9.44 2.766c11.32 0 17.513-9.381 17.513-17.514 0-.269-.005-.533-.017-.796a12.405 12.405 0 0 0 3.07-3.182v-.001z" fill-rule="nonzero"></path></symbol></defs></svg><nav aria-label="main navigation" class="navbar" role="navigation"><div class="navbar-brand"><a class="navbar-item" href="https://delegation-numerique-en-sante.github.io/covid19-algorithme-orientation/"><img alt="Logo Marianne" class="image is-128x128" src="images/logo-marianne.svg"></a></div><div class="navbar-end"><div class="navbar-menu is-size-5"><a class="navbar-item" href="https://delegation-numerique-en-sante.github.io/covid19-algorithme-orientation/" title="Retour à la page d&apos;information COVID19 du ministère des Solidarités et de la Santé">COVID19 / Ministère des Solidarités et de la Santé</a></div></div></nav><section class="hero"><div class="hero-body"><div class="container"><h1 class="title has-text-centered">Présentation interactive de l'algorithme d'orientation Covid-19</h1><h2 class="subtitle column is-8 is-offset-2 has-text-centered"></h2></div></div></section><section class="section"><div class="column is-8 is-offset-2"><br><section><div class="container"><br><h1 class="title">Définition des orientations possibles</h1><pre class="language-klipse">;; L'algorithme défini dans la documentation contient huit message
;; d'orientation possibles
(def orientations
  {:less_15
   "Cette application n’est pas faite pour les personnes de moins de 15 ans. Prenez contact avec votre médecin généraliste au moindre doute. En cas d’urgence, appelez le 15."
   :home_surveillance
   "Votre situation peut relever d’un COVID 19 qu’il faut surveiller. Si de nouveaux symptômes apparaissent, refaites le test ou consultez votre médecin. Nous vous conseillons de rester à votre domicile."
   :consultation_surveillance_1
   "Votre situation peut relever d’un COVID 19. Demandez une téléconsultation ou un médecin généraliste ou une visite à domicile. Appelez le 15 si une gêne respiratoire ou des difficultés importantes pour vous alimenter ou boire apparaissent pendant plus de 24 heures."
   :consultation_surveillance_2
   "Votre situation peut relever d’un COVID 19. Demandez une téléconsultation ou un médecin généraliste ou une visite à domicile. Si vous n'arrivez pas à obtenir de consultation, appelez le 15."
   :SAMU "Appelez le 15."
   :consultation_surveillance_3
   "Votre situation peut relever d’un COVID 19. Demandez une téléconsultation ou un médecin généraliste ou une visite à domicile (SOS médecins, etc.)"
   :consultation_surveillance_4
   "Votre situation peut relever d’un COVID 19. Un avis médical est recommandé. Au moindre doute, appelez le 15. Nous vous conseillons de rester à votre domicile."
   :surveillance
   "Votre situation ne relève probablement pas du COVID 19. N’hésitez pas à contacter votre médecin en cas de doute. Vous pouvez refaire le test en cas de nouveau symptôme pour réévaluer la situation. Pour toute information concernant le COVID 19, composer le 0 800 130 000."})
</pre></div><div class="container"><br><h1 class="title">Fonctions de prétraitement</h1><pre class="language-klipse">;; Fonction de calcul de l'indice de masse corporelle
(defn compute-bmi [weight height]
  (/ weight (Math/pow (/ height 100.0) 2)))

;; Fonction pour réduire l'âge à la tranche d'âge
(defn get-age-range [reponse]
  (cond (< (:age reponse) 15) "inf_15"
        (< (:age reponse) 50) "from_15_to_49"
        (< (:age reponse) 70) "from_50_to_69"
        :else                 "sup_70"))

;; Fonction pour mettre le bmi, age-range dans la réponse, et
;; incrémenter les facteurs pronostiques ou de gravité
(defn preprocess-scores [reponse]
  (let [bmi-val   (compute-bmi (:weight reponse)
                               (:height reponse))
        age-range (get-age-range reponse)
        reponse   (merge reponse {:bmi bmi-val})
        reponse   (merge reponse {:age-range age-range})
        reponse   (update-in reponse [:pronostic-factors]
                             #(if (= (:age-range reponse) "sup_70") (inc %) %))
        reponse   (update-in reponse [:pronostic-factors]
                             #(if (>= bmi-val 30) (inc %) %))
        reponse   (dissoc reponse :weight :height :age)]
    ;; Renvoie la réponse remise en forme:
    reponse))
</pre></div><div class="container"><br><h1 class="title">Fonction de calcul du résultat</h1><pre class="language-klipse">;; Fonction pour calculer l'orientation en fonction de la réponse
(defn orientation [reponse]
  ;; Initialisation des valeurs d'entrées
  (let [reponse
        (preprocess-scores reponse)
        {:keys [bmi age-range agueusia_anosmia
                fever diarrhea cough sore_throat_aches
                minor-severity-factors
                major-severity-factors
                pronostic-factors]} reponse
        {:keys
         [less_15
          home_surveillance
          consultation_surveillance_1
          consultation_surveillance_2
          SAMU
          consultation_surveillance_3
          consultation_surveillance_4
          surveillance]}            orientations]
    ;; L'algorithme COVID19 proprement dit
    (cond
      ;; Branche 1
      (= age-range "inf_15")
      (do (println "Branch 1: less than 15 years")
          less_15)
      ;; Branche 2
      (>= major-severity-factors 1)
      (do (println "Branch 2: at least one major gravity factor")
          SAMU)
      ;; Branche 3
      (and fever cough)
      (do (println "Branch 3: fever and cough")
          (cond (= pronostic-factors 0)
                consultation_surveillance_3
                (>= pronostic-factors 1)
                (if (< minor-severity-factors 2)
                  consultation_surveillance_3
                  consultation_surveillance_2)))
      ;; Branche 4
      (or fever
          diarrhea
          (and cough sore_throat_aches)
          (and cough agueusia_anosmia)
          (and sore_throat_aches agueusia_anosmia))
      (do (println "Branch 4: fever and other symptoms")
          (cond (= pronostic-factors 0)
                (if (= minor-severity-factors 0)
                  (if (= age-range "from_15_to_49")
                    home_surveillance
                    consultation_surveillance_1)
                  consultation_surveillance_1)
                (>= pronostic-factors 1)
                (if (< minor-severity-factors 2)
                  consultation_surveillance_1
                  consultation_surveillance_2)))
      ;; Branche 5
      (or (and cough (not sore_throat_aches) (not agueusia_anosmia))
          (and (not cough) sore_throat_aches (not agueusia_anosmia))
          (and (not cough) (not sore_throat_aches) agueusia_anosmia))
      (do (println "Branch 5: no fever and one other symptom")
          (if (= pronostic-factors 0)
            home_surveillance
            consultation_surveillance_4))
      ;; Branche 6
      (and (not cough)
           (not sore_throat_aches)
           (not agueusia_anosmia))
      (do (println "Branche 6: no symptom")
          surveillance))))
</pre></div><div class="container"><br><h1 class="title">Exemple de réponse</h1><pre class="language-klipse">;; Vous pouvez modifier les valeurs ci-dessous.
(def exemple-de-reponse
  {:fever                  true  ; Dépend de la température
   :diarrhea               false ; Idem
   :cough                  true  ; Idem
   :sore_throat_aches      false ; Idem
   :agueusia_anosmia       false ; Idem
   :age                    62    ; Valeur normale
   :weight                 63    ; En kgs
   :height                 167   ; En centimètres
   :pronostic-factors      0     ; Voir première série de questions
   :minor-severity-factors 0     ; Fièvre >= 39°C ou alitement >= 50% temps diurne
   :major-severity-factors 0     ; Gêne respiratoire ou difficulté manger/boire
   })
</pre></div><div class="container"><br><h1 class="title">Orientation calculée à partir de cette réponse</h1><p class="subtitle">Changez l'exemple de réponse ci-dessus et voyez le résultat.</p><pre class="language-klipse">(orientation exemple-de-reponse)</pre></div></section></div></section><footer class="footer"><div class="content"><div class="columns"><div class="column is-offset-2 is-4"><ul class="footer__social"><li><a href="https://twitter.com/MinSoliSante" title="Twitter"><svg class="icon icon-twitter"><use xlink:href="#twitter"></use></svg></a></li><li><a href="https://github.com/delegation-numerique-en-sante" title="Github"><svg class="icon icon-github"><use xlink:href="#github"></use></svg></a></li><li><a href="mailto:mobilisation-covid@sante.gouv.fr" title="Contacter par email"><svg class="icon icon-mail"><use xlink:href="#envelope"></use></svg></a></li></ul></div><div class="column is-offset-1 is-4"><h1>Algorithme d'orientation COVID19</h1><p><div><p>Site développé en collaboration avec la <a href="https://www.numerique.gouv.fr/">Direction interministérielle du numérique</a>.</p></div></p></div></div></div></footer><div><script type="text/javascript">window.klipse_settings = {
    selector: '.language-klipse',
    print_length: 100,
    beautify_strings: true,
    codemirror_options_in: {
        indentUnit: 2,
        lineWrapping: true,
        lineNumbers: true,
        autoCloseBrackets: true
    },
    codemirror_options_out: {
        lineWrapping: true,
        lineNumbers: true
    }}</script><script src="https://storage.googleapis.com/app.klipse.tech/plugin/js/klipse_plugin.js" type="text/javascript"></script></div></body></html>